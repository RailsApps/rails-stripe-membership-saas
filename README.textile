h4. Note of 20140124 : 

This Rails 4 branch is updated to Rails 4.0.2. running on Ruby 2.1.0, and styled with Bootstrap-Sass 3.0.3.0.
This branch is the Rails 4 App for a Membership, Subscription, or SaaS Site.

For original instructions on how to install the app, please see Daniel Kehoe's Master Branch :
"README.textile":https://github.com/RailsApps/rails-stripe-membership-saas

As this point this application is still using CanCan for authorization.
We intend to can CanCan and put in Pundit.
That's next on the upgrade, commit and push agenda.

 ~ Kathy Onu, a SiteKeeper 

h4. Instructions to Operate

1. Clone into your system :

<pre>
$ git clone https://github.com/kathyonu/rails-stripe-membership-saas.git
</pre>

1a. Change Directory into the new app verify you have the rails4 branch :

<pre>
$ cd rails-stripe-membership-saas
$ git branch
</pre>

Your response will be <pre>  * rails4 </pre>

2. Open your Gemfile and make sure you have the right versions of Ruby and Rails : 

<pre>
  source 'https://rubygems.org'
  ruby "2.1.0"
  gem 'rails', '4.0.2'
</pre>

2a. Using your favorite editor, open the .ruby-gemset and .ruby-version files. 
    This will open TextEdit from inside your Terminal :

<pre>
$ open -e .ruby-gemset
$ open -e .ruby-version
</pre>

Your .ruby-gemset file should show only the gemset name, here we use : Rails4.0.2_rails-stripe-membership-saas
Your .ruby-version file should show only the version number : 2.1.0

2b. After you verify your new gemset, then run bundle install :

<pre>
$ bundle install
</pre>

3. Create your application.yml file from the application.example.yml file, using your own data.
4. Make sure /config/application.yml exists in your ./.gitignore file. (It is at the bottom of the file)
5. Run the setup commands :

<pre>
$ rake db:migrate
$ rake db:seed
$ rake db:test:prepare
</pre>

You are now ready to run, and test your app.

8. To run your server: 

<pre>
$ rails s
</pre>

Now you can open your browser to http://localhost:3000 

9. To run cucumber tests: 

<pre>
$ cucumber
</pre>

10. To run Rspec tests: 

<pre>
$ rspec spec 
</pre>

You are up and running on Rails 4.

References used during these upgrading commits include, and are not limited to :

"Check your Gemfile's readiness for Rails 4":http://ready4rails4.net/gemfile_check/new

"Ruby Edge Guide for Upgrading to Rails 4.0, 4.1 and beyond":http://edgeguides.rubyonrails.org/upgrading_ruby_on_rails.html
Note : this page is in sections, on different upgrades, so make sure you are in the right section.
Section 5 : Upgrading from Rails 3.0 to Rails 3.1
Section 4 : Upgrading from Rails 3.1 to Rails 3.2
Section 3 : Upgrading from Rails 3.2 to Rails 4.0
Section 2 : Upgrading from Rails 4.0 to Rails 4.1 and later.
Again, make sure you are using the right instructions, and stay in that section until you are done.

"Strong Parameters by Example":http://blog.sensible.io/2013/08/17/strong-parameters-by-example.html
"Upgrading to Rails4: Strong Parameters":http://blog.barbershoplabs.com/blog/page/2


h4. Pundit instead of CanCan.
"Pundit Gem":https://rubygems.org/gems/pundit
"Pundit Source":https://github.com/elabs/pundit

"Pundit is simple authorization in pure Ruby":http://www.elabs.se/blog/52-simple-authorization-in-ruby-on-rails-apps

h4. Migrating to Pundit from CanCan
"Put In Pundit Migration Instructions":http://blog.carbonfive.com/2013/10/21/migrating-to-pundit-from-cancan/
"Testing Pundit Policies with Rspec":http://thunderboltlabs.com/blog/2013/03/27/testing-pundit-policies-with-rspec/

h4. Your Rails 4 app to Heroku :
"Rails 4 on Heroku":https://devcenter.heroku.com/articles/rails4

end of 20140124 note.

There is a "detailed tutorial":https://tutorials.railsapps.org/rails-stripe-membership-saas 
showing how it is built with the original Rails 3 coding.

h2. Credits

Daniel Kehoe implemented the application and wrote the tutorial.

Taylor Mock contributed tests and feature improvements.

Kathy Onu upgraded the Rails 3 master onto the Rails 4 branch using Bootstrap 3, and will be replacing CanCan with Pundit.
 
Is the app useful to you? Follow the project on Twitter: "@rails_apps":http://twitter.com/rails_apps
and tweet some praise. I'd love to know you were helped out by what I've put together.

h2. MIT License

"MIT License":http://www.opensource.org/licenses/mit-license

Copyright Â© 2012-2014 Daniel Kehoe

h2. Useful Links

|_. Getting Started |_. Articles |_. Tutorials |
| "Learn Rails":http://learn-rails.com/ | "Twitter Bootstrap and Rails":http://railsapps.github.io/twitter-bootstrap-rails.html | "Rails and Bootstrap":http://railsapps.github.io/rails-bootstrap/ |
| "Ruby and Rails":http://railsapps.github.io/ruby-and-rails.html | "Analytics for Rails":http://railsapps.github.io/rails-google-analytics.html | |
| "What is Ruby on Rails?":http://railsapps.github.io/what-is-ruby-rails.html | "Heroku and Rails":http://railsapps.github.io/rails-heroku-tutorial.html | "Devise with CanCan and Twitter Bootstrap":https://tutorials.railsapps.org/rails3-bootstrap-devise-cancan |
| "Rails Tutorial":https://tutorials.railsapps.org/rails-tutorial | "JavaScript and Rails":http://railsapps.github.io/rails-javascript-include-external.html | "Rails Membership Site with Stripe":https://tutorials.railsapps.org/rails-stripe-membership-saas |
| "Installing Rails":http://railsapps.github.io/installing-rails.html | "Rails Environment Variables":http://railsapps.github.io/rails-environment-variables.html | "Rails Subscription Site with Recurly":https://tutorials.railsapps.org/rails-recurly-subscription-saas |
| "Updating Rails":http://railsapps.github.io/updating-rails.html | "Git and Rails":http://railsapps.github.io/rails-git.html | "Startup Prelaunch Signup Application":http://railsapps.github.io/tutorial-rails-prelaunch-signup.html |
| "Rails Composer":http://railsapps.github.io/rails-composer/ | "Email and Rails":http://railsapps.github.io/rails-send-email.html | "Devise with RSpec and Cucumber":http://railsapps.github.io/tutorial-rails-devise-rspec-cucumber.html |
| "Rails Examples":http://railsapps.github.io/ | "Haml and Rails":http://railsapps.github.io/rails-haml.html | "Devise with Mongoid":http://railsapps.github.io/tutorial-rails-mongoid-devise.html |
| "Rails Starter Apps":http://railsapps.github.io/rails-examples-tutorials.html | "Rails Application Layout":http://railsapps.github.io/rails-default-application-layout.html | "OmniAuth with Mongoid":http://railsapps.github.io/tutorial-rails-mongoid-omniauth.html |
| | "HTML5 Boilerplate for Rails":http://railsapps.github.io/rails-html5-boilerplate.html | "Subdomains with Devise":http://railsapps.github.io/tutorial-rails-subdomains.html |
| | "Example Gemfiles for Rails":http://railsapps.github.io/rails-3-2-example-gemfile.html | |
| | "Rails Application Templates":http://railsapps.github.io/rails-application-templates.html | |
